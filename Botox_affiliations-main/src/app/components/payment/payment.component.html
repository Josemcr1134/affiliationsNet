<div class="mx-auto sm:px-6 lg:px-8">
    <div class="p-5 bg-white rounded-md">
        <h2 class="text-xl leading-6 font-medium text-purple-900">Resumen de pago</h2>
        <p class="text-sm mb-3 leading-6 font-normal text-gray-400">Estos son nuestros métodos de pago disponibles</p>
        <section aria-labelledby="summary-heading" class="mt-16 bg-gray-50 rounded-lg py-6 lg:mt-0 lg:col-span-5">
            <dl class="mt-3 mb-4 space-y-4 px-2" style="margin-bottom: 25px">
                <div class="border-t border-gray-200 pt-4 flex items-center justify-between">
                    <dt class="text-base font-bold text-gray-900">Total a pagar</dt>
                    <dd class="text-base font-bold text-gray-900">{{ total_to_pay_show | currency }}</dd>
                </div>
                <div class="flex items-center justify-between">
                    <dt class="text-sm text-gray-600">Valor del {{ plan_name }}</dt>
                    <dd class="text-sm font-medium text-gray-900">{{ people_plan * plan_affiliate_fee | currency }}</dd>
                </div>
                <div class="flex items-center justify-between">
                    <dt class="text-sm text-gray-600">Afiliación extra</dt>
                    <dd class="text-sm font-medium text-gray-900">{{ extra_people * plan_extra_affiliate_fee | currency }}</dd>
                </div>
                <!--
                <div class="flex items-center justify-between">
                    <dt class="text-sm text-gray-600">Servicios funebres</dt>
                    <dd class="text-sm font-medium text-gray-900">$75.000</dd>
                </div> -->
            </dl>

            <!-- Payment -->
            <div class="border-t px-2 border-gray-200 pt-10" style="margin-top: 25px" *ngIf="pay_method < 3">
                <dt class="text-base font-bold text-gray-900 mb-3">Métodos de pago</dt>
                <dt
                    class="text-sm font-normal text-gray-600 cursor-pointer flex flex-nowrap"
                    *ngIf="pay_method > 0 || pay_completed === false"
                    (click)="ChoosePayMethod((pay_method = pay_method - pay_method))"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="w-5 h-5 pr-2"
                    >
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3" />
                    </svg>
                    <span>Regresar</span>
                </dt>
                <article class="lg:flex lg:min-h-full lg:flex-row-reverse lg:overflow-hidden mt-4">
                    <!-- Checkout div -->
                    <section
                        aria-labelledby="payment-heading"
                        class="flex-auto overflow-y-auto px-4 pt-12 pb-16 sm:px-6 sm:pt-16 lg:px-8 lg:pt-0 lg:pb-24"
                    >
                        <div class="mx-auto max-w-lg mt-4">
                            <div *ngIf="pay_method === 0">
                                <button
                                    type="button"
                                    (click)="ChoosePayMethod(1)"
                                    class="flex w-full items-center justify-center rounded-md border border-transparent bg-gray-100 py-2 text-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"
                                >
                                    <span class="sr-only">Pagar con nequi</span>
                                    <svg class="h-5 w-auto" viewBox="4.86 5.41 559.65 132.36" width="2500" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="m32.44 30.19c.73-.6 1.47-1.19 2.2-1.79.58-.03 1.14-.07 1.06-.89l-.05.06c9.45-3.76 18.12-9.03 26.92-14.04l1.25-.03c12.32 5.87 24.91 11.09 37.68 15.88.56.39 1.13.77 1.69 1.16 6.99 8.99 14.48 17.54 22.09 26l.15.94c-3.9 11.81-6.79 23.9-9.78 35.97-.32.6-.63 1.19-.95 1.79-9.47 10.39-18.95 20.78-28.42 31.17-.6-.24-1.23-.44-1.8-.73-13.33-6.92-26.65-13.85-39.97-20.78-.66-.5-1.31-1-1.97-1.5-.03-.64-.31-1.04-1.01-1.03l.04.04c-.07-1.63-1.34-2.6-2.16-3.8-8.81-12.97-18.64-25.22-26.87-38.59 2.13-3.13 4.34-6.2 6.36-9.4 4.36-6.91 10.16-12.87 13.54-20.43z"
                                            fill="#231c46"
                                        />
                                        <path
                                            d="m432.54 73.12c.15 9.56-2.87 18.01-9.04 25.22-1.82 2.13-1.68 3.33.31 5.1 2.48 2.2 4.77 4.64 6.94 7.16 1.89 2.2 1.3 3.69-1.72 3.73-5.1.08-10.5.99-13.88-4.41-1.47-2.36-3.14-1.42-5.06-.46-19.26 9.59-40.71 4.05-52.74-13.55-11.29-16.52-8.58-40.9 6.14-55.34 13.9-13.64 35.39-15.46 51.1-3.98 12.28 8.98 17.81 21.5 17.95 36.53zm-26.96 25.16c-4.94-4.44-9.3-8.3-13.59-12.24-1.11-1.02-2.05-2.3-1.24-3.97.77-1.59 2.24-1.6 3.79-1.77 4.65-.51 8.38.67 11.38 4.54 2.02 2.6 4.65 4.73 7.01 7.06 10.33-10.56 10.29-29.61-.07-41.36-9.79-11.1-26.59-12.99-38.38-4.31-12.41 9.13-15.99 29.55-7.51 42.74 8.24 12.8 24 17.13 38.61 9.31zm-172.25-10.37c0-18.85.16-36.17-.11-53.49-.07-4.77 1.88-5.48 5.94-5.36 3.89.11 6.5.08 6.44 5.42-.27 24.81-.11 49.63-.14 74.44 0 1.9.7 4.26-1.76 5.22-2.51.98-3.98-.88-5.44-2.52-15.3-17.14-30.61-34.28-45.92-51.42-1.51-1.69-3.06-3.35-4.69-5.13-1.47 1.87-.84 3.58-.84 5.14-.03 15.99-.12 31.98.14 47.96.07 4.65-1.09 6.46-6.11 6.35-4.63-.11-6.44-1.11-6.39-6.15.24-24.48.09-48.96.14-73.44 0-2.01-.96-4.69 1.91-5.57 2.77-.85 4.99.19 7 2.46 14.53 16.49 29.16 32.89 43.76 49.32 1.72 1.95 3.47 3.87 6.07 6.77z"
                                            fill="#251d48"
                                        />
                                        <path
                                            d="m459.81 60.17c0-8.82.24-17.66-.09-26.47-.21-5.59 3.41-4.43 6.6-4.59 3.48-.18 6.06-.05 6.01 4.79-.19 17.14-.28 34.3.13 51.44.32 13.34 13.74 21.01 25.3 14.87 5.03-2.67 8-6.89 8.68-12.59 1.31-10.95.4-21.95.61-32.93.13-6.99.17-13.99-.03-20.97-.1-3.39.88-4.69 4.48-4.67 7.86.05 7.87-.14 7.86 7.89-.01 15.48.11 30.97-.09 46.45-.2 15.72-9.61 27.24-24.4 30.36-16.01 3.37-33.12-8.78-34.42-25.14-.75-9.42-.14-18.96-.14-28.44-.16.01-.33.01-.5 0z"
                                            fill="#2a1f4b"
                                        />
                                        <path
                                            d="m278.2 71.78c-.01-12.48.1-24.97-.07-37.45-.05-3.67.68-5.37 4.91-5.26 11.82.28 23.65.31 35.46 0 4.89-.13 4.91 2.47 4.9 5.95-.01 3.58.13 6.61-5.05 6.4-7.98-.32-15.98.05-23.97-.14-2.93-.07-4.16.5-3.96 3.76.3 4.98.26 9.99.01 14.97-.15 2.97.97 3.56 3.69 3.5 7.82-.16 15.66.21 23.47-.14 4.8-.22 6 1.63 5.88 6.09-.11 4.07-.43 6.56-5.62 6.27-7.97-.45-15.98-.02-23.97-.17-2.58-.05-3.51.65-3.44 3.33.17 6.65.22 13.32-.01 19.97-.11 3.1 1.23 3.47 3.82 3.43 8.16-.13 16.32.17 24.47-.13 4.52-.17 4.81 2.24 4.66 5.6-.15 3.28.77 6.8-4.7 6.69-11.98-.24-23.98-.18-35.96-.01-3.58.05-4.59-1.32-4.56-4.69.13-12.67.05-25.32.04-37.97z"
                                            fill="#251d48"
                                        />
                                        <path
                                            d="m551.91 71.4c.01-12.49.24-24.98-.1-37.46-.16-5.84 3.49-4.7 6.86-4.88 3.64-.2 5.82.29 5.78 5.01-.22 25.14-.23 50.28.01 75.42.05 4.83-2.3 5-5.85 4.92-3.58-.08-6.95.59-6.81-5.05.32-12.65.11-25.31.11-37.96z"
                                            fill="#231c46"
                                        />
                                        <path
                                            d="m12.54 60.02c8.23 13.37 18.07 25.62 26.88 38.58.82 1.21 2.09 2.17 2.16 3.8-10.56-4.22-20.89-9.07-29.89-16.01-6.03-4.65-6.83-14.58-2.95-21.37.98-1.72 2.18-3.31 3.28-4.96.17-.01.34-.02.52-.04z"
                                            fill="#40bacd"
                                        />
                                        <path
                                            d="m44.52 104.9c13.32 6.93 26.64 13.86 39.97 20.78.57.3 1.2.49 1.8.73.05.23.08.45.1.68-2.08 2.11-4.07 4.33-6.27 6.32-4.68 4.24-12.23 4.36-16.03-.56-6.96-8.99-13.91-18.03-19.57-27.95z"
                                            fill="#e73b7b"
                                        />
                                        <path
                                            d="m86.38 127.1c-.01-.23-.05-.46-.1-.68 9.47-10.39 18.94-20.78 28.42-31.17-1.61 9.43-4.32 18.59-7.18 27.68-2.07 6.58-8.72 9.24-15.3 6.85-2-.74-3.89-1.78-5.84-2.68z"
                                            fill="#40bacd"
                                        />
                                        <path
                                            d="m101.51 29.39c-12.78-4.79-25.37-10.01-37.69-15.88 3.37-2.77 7.39-4.39 11.24-6.27 3.74-1.83 7.19-.86 9.85 2.28 5.58 6.58 11.07 13.24 16.6 19.87zm14.14 64.07c2.99-12.06 5.88-24.15 9.78-35.97 2.79 1.9 4.64 4.71 6.57 7.34 2.61 3.57 2.61 7.58-.35 10.99-5.21 5.99-10.65 11.77-16 17.64zm-103.11-33.44c-.17.01-.35.03-.52.04-3.56-11.97-.75-18.83 10.23-24.72 3.35-1.8 6.79-3.44 10.19-5.15-3.38 7.56-9.18 13.52-13.54 20.43-2.02 3.2-4.24 6.27-6.36 9.4z"
                                            fill="#e73b7b"
                                        />
                                        <g fill="#40bacd">
                                            <path
                                                d="m125.29 56.55c-7.61-8.46-15.1-17.01-22.09-26 5.97 2.44 11.99 4.79 17.91 7.35 5.6 2.42 7.47 6.18 6.15 12-.52 2.24-1.31 4.43-1.97 6.65zm-62.72-43.01c-8.8 5.01-17.47 10.28-26.92 14.04 2.64-5.88 6.76-10.79 10.76-15.71 2.04-2.5 5.28-3.24 8.56-1.76 2.54 1.15 5.07 2.29 7.6 3.43z"
                                            />
                                            <path
                                                d="m35.7 27.52c.09.82-.48.86-1.06.89.08-.63.41-.94 1.06-.89zm5.84 74.85c.69 0 .98.39 1.01 1.03-.61-.08-1.1-.27-1.01-1.03z"
                                            />
                                        </g>
                                    </svg>
                                </button>
                                <div class="relative my-4">
                                    <div class="absolute inset-0 flex items-center" aria-hidden="true">
                                        <div class="w-full border-t border-gray-200"></div>
                                    </div>
                                    <div class="relative flex justify-center">
                                        <span class="px-4 text-sm font-medium text-gray-500">O</span>
                                    </div>
                                </div>
                                <button
                                    type="button"
                                    (click)="ChoosePayMethod(2)"
                                    class="flex w-full items-center justify-center rounded-md border border-transparent bg-gray-100 py-2 text-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"
                                >
                                    <span class="sr-only">Pagar con tarjeta</span>

                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke-width="1.5"
                                        stroke="currentColor"
                                        class="h-5 w-auto text-purple-800"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"
                                        />
                                    </svg>
                                </button>
                            </div>
                            <div class="mt-6" *ngIf="pay_method === 2 && card_type === 0">
                                <button
                                    type="button"
                                    (click)="ChooseCardType(1)"
                                    class="flex w-full items-center justify-center rounded-md border border-transparent bg-gray-100 py-2 text-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke-width="1.5"
                                        stroke="currentColor"
                                        class="h-5 w-auto pr-2 text-purple-800"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"
                                        />
                                    </svg>
                                    <span class="text-purple-800"> Tarjeta débito</span>
                                </button>
                                <div class="relative my-4">
                                    <div class="absolute inset-0 flex items-center" aria-hidden="true">
                                        <div class="w-full border-t border-gray-200"></div>
                                    </div>
                                    <div class="relative flex justify-center">
                                        <span class="bg-white px-4 text-sm font-medium text-gray-500">O</span>
                                    </div>
                                </div>
                                <button
                                    type="button"
                                    (click)="ChooseCardType(2)"
                                    class="flex w-full items-center justify-center rounded-md border border-transparent bg-gray-100 py-2 text-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="none"
                                        viewBox="0 0 24 24"
                                        stroke-width="1.5"
                                        stroke="currentColor"
                                        class="h-5 w-auto pr-2 text-purple-800"
                                    >
                                        <path
                                            stroke-linecap="round"
                                            stroke-linejoin="round"
                                            d="M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"
                                        />
                                    </svg>
                                    <span class="text-purple-800"> Tarjeta de crédito</span>
                                </button>
                            </div>
                            <div class="mt-6" *ngIf="pay_method === 2 && card_type > 0">
                                <div class="grid grid-cols-12 gap-y-6 gap-x-4">
                                    <div class="col-span-full">
                                        <label for="name-on-card" class="block text-sm font-medium text-gray-700">Nombre de responsable</label>
                                        <div class="mt-1">
                                            <input
                                                type="text"
                                                [(ngModel)]="card_holder"
                                                [disabled]="pay_completed"
                                                id="name-on-card"
                                                name="name-on-card"
                                                autocomplete="cc-name"
                                                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"
                                            />
                                            <small
                                                class="text-red-500 animate-bounce"
                                                *ngIf="card_holder.toString().length < 5 && card_holder.length > 0"
                                                >Carácteres mínimos permitidos: 5</small
                                            >
                                        </div>
                                    </div>

                                    <div class="col-span-full">
                                        <label for="card-number" class="block text-sm font-medium text-gray-700">Número de tarjeta</label>
                                        <div class="mt-1">
                                            <input
                                                type="number"
                                                [(ngModel)]="card_number"
                                                [disabled]="pay_completed"
                                                id="card-number"
                                                name="card-number"
                                                autocomplete="cc-number"
                                                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"
                                            />
                                            <small class="text-red-500 animate-bounce" *ngIf="card_number.toString().length > 16"
                                                >Carácteres máximos permitidos: 16</small
                                            >
                                            <small
                                                class="text-red-600"
                                                *ngIf="this.card_number.toString().length < 14 && card_number.toString().length > 1"
                                                >Este número de tarjeta no es válido</small
                                            >
                                        </div>
                                    </div>
                                    <div class="col-span-full grid md:grid-cols-2 grid-cols-1 gap-3">
                                        <div class="">
                                            <label for="quote-number" class="block text-sm font-medium text-gray-700">Número de cuotas</label>
                                            <div class="mt-1">
                                                <input
                                                    type="number"
                                                    [(ngModel)]="installments"
                                                    [disabled]="card_type === 1 || pay_completed"
                                                    [value]="1"
                                                    id="quote-number"
                                                    name="quote-number"
                                                    autocomplete="cc-number"
                                                    class="disabled:bg-gray-200 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"
                                                />
                                            </div>
                                        </div>
                                        <div>
                                            <label for="expiration-month" class="block text-sm font-medium text-gray-700"
                                                >Mes de expiración (MM)</label
                                            >
                                            <select
                                                id="expiration-month"
                                                [(ngModel)]="exp_month"
                                                [disabled]="pay_completed"
                                                name="expiration-month"
                                                class="mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
                                            >
                                                <option value="01">Enero</option>
                                                <option value="02">Febrero</option>
                                                <option value="03">Marzo</option>
                                                <option value="04">Abril</option>
                                                <option value="05">Mayo</option>
                                                <option value="06">Junio</option>
                                                <option value="07">Julio</option>
                                                <option value="08">Agosto</option>
                                                <option value="09">Septiembre</option>
                                                <option value="10">Octubre</option>
                                                <option value="11">Noviembre</option>
                                                <option value="12">Diciembre</option>
                                            </select>
                                        </div>
                                        <div class="">
                                            <label for="expiration-year" class="block text-sm font-medium text-gray-700"
                                                >Año de expiración (YY)</label
                                            >
                                            <div class="mt-1">
                                                <input
                                                    type="number"
                                                    [(ngModel)]="exp_year"
                                                    [disabled]="pay_completed"
                                                    name="expiration-year"
                                                    id="expiration-year"
                                                    autocomplete="cc-exp"
                                                    class="block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"
                                                />
                                                <small
                                                    class="text-red-500 animate-bounce"
                                                    *ngIf="
                                                        exp_year.toString().length > 2 ||
                                                        (exp_year.toString().length < 2 && exp_year.toString().length)
                                                    "
                                                    >Carácteres máximos permitidos: 2</small
                                                >
                                            </div>
                                        </div>
                                        <div class="">
                                            <label for="cvc" class="block text-sm font-medium text-gray-700">CVC</label>
                                            <div class="mt-1">
                                                <input
                                                    type="text"
                                                    [(ngModel)]="cvc"
                                                    name="cvc"
                                                    [disabled]="pay_completed"
                                                    id="cvc"
                                                    autocomplete="csc"
                                                    class="block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"
                                                />
                                                <small
                                                    class="text-red-500 animate-bounce"
                                                    *ngIf="cvc.toString().length > 4 || (cvc.toString().length < 3 && cvc.toString().length)"
                                                    >Carácteres máximos permitidos: 4</small
                                                >
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-span-full">
                                        <fieldset class="space-y-5">
                                            <div class="relative flex items-start">
                                                <div class="flex h-5 items-center">
                                                    <input
                                                        id="terms"
                                                        value="true"
                                                        [(ngModel)]="accept_terms"
                                                        aria-describedby="terms-description"
                                                        name="terms"
                                                        type="checkbox"
                                                        class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"
                                                    />
                                                </div>
                                                <div class="ml-3 text-sm">
                                                    <label for="terms" class="font-medium text-gray-700">Acepta los </label>
                                                    <span id="terms-description" class="text-gray-500"
                                                        ><span class="sr-only">Acepta los </span>
                                                        <a target="_blank" [href]="terms" class="fw-bolder underline">Términos y Condiciones</a>
                                                    </span>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                                <button
                                    type="button"
                                    [disabled]="
                                        accept_terms === false ||
                                        pay_completed === true ||
                                        card_holder.length < 5 ||
                                        this.card_number.toString().length < 14 ||
                                        card_number.toString().length > 16 ||
                                        exp_month.toString().length > 2 ||
                                        exp_month.toString().length === 0 ||
                                        exp_year.toString().length > 2 ||
                                        exp_year.toString().length < 2 ||
                                        exp_year.toString().length === 0 ||
                                        cvc.toString().length > 4 ||
                                        (cvc.toString().length < 3 && cvc.toString().length === 0)
                                    "
                                    (click)="AddCardToWompi()"
                                    class="disabled:opacity-70 disabled:cursor-none mt-6 w-full rounded-md border border-transparent bg-purple-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-purple-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"
                                >
                                    <span *ngIf="pay_completed === false"> Pagar {{ total_to_pay_show | currency }} </span>
                                    <span *ngIf="pay_completed === true"> Procesando tu pago... </span>
                                </button>

                                <p class="mt-6 flex justify-center text-sm font-medium text-gray-500">
                                    <svg
                                        class="mr-1.5 h-5 w-5 text-gray-400"
                                        aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 20 20"
                                        fill="currentColor"
                                    >
                                        <path
                                            fill-rule="evenodd"
                                            d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z"
                                            clip-rule="evenodd"
                                        />
                                    </svg>
                                    Datos de pago serán almacenados
                                </p>
                            </div>
                            <div class="mt-6" *ngIf="pay_method === 1">
                                <div class="grid grid-cols-12 gap-y-6 gap-x-4">
                                    <div class="col-span-full">
                                        <label for="number" class="block text-sm font-medium text-gray-700">Número de celular </label>
                                        <div class="mt-1">
                                            <input
                                                type="number"
                                                [(ngModel)]="nequi"
                                                id="number"
                                                name="number"
                                                autocomplete="number"
                                                class="block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 sm:text-sm"
                                            />
                                            <small class="text-red-500 animate-bounce" *ngIf="nequi.toString().length > 10"
                                                >Carácteres permitidos: 10</small
                                            >
                                            <small class="text-red-600" *ngIf="this.nequi.toString().length < 10 && nequi.toString().length > 1"
                                                >Este número no es válido</small
                                            >
                                        </div>
                                    </div>

                                    <div class="col-span-full">
                                        <fieldset class="space-y-5">
                                            <div class="relative flex items-start">
                                                <div class="flex h-5 items-center">
                                                    <input
                                                        id="terms"
                                                        value="true"
                                                        [(ngModel)]="accept_terms"
                                                        aria-describedby="terms-description"
                                                        name="terms"
                                                        type="checkbox"
                                                        class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"
                                                    />
                                                </div>
                                                <div class="ml-3 text-sm">
                                                    <label for="terms" class="font-medium text-gray-700">Acepta los </label>
                                                    <span id="terms-description" class="text-gray-500"
                                                        ><span class="sr-only">Acepta los </span>
                                                        <a [href]="terms" class="fw-bolder underline">Términos y Condiciones</a>
                                                    </span>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                                <button
                                    type="button"
                                    (click)="AddNequiToWompi()"
                                    [disabled]="accept_terms === false || this.nequi.toString().length < 10 || nequi.toString().length === 0"
                                    class="disabled:opacity-70 disabled:cursor-none mt-6 w-full rounded-md border border-transparent bg-purple-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-purple-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2"
                                >
                                    Pagar {{ total_to_pay_show | currency }}
                                </button>

                                <p class="mt-6 flex justify-center text-sm font-medium text-gray-500">
                                    <svg
                                        class="mr-1.5 h-5 w-5 text-gray-400"
                                        aria-hidden="true"
                                        xmlns="http://www.w3.org/2000/svg"
                                        viewBox="0 0 20 20"
                                        fill="currentColor"
                                    >
                                        <path
                                            fill-rule="evenodd"
                                            d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z"
                                            clip-rule="evenodd"
                                        />
                                    </svg>
                                    Datos de pago serán almacenados
                                </p>
                            </div>
                        </div>
                    </section>
                </article>
            </div>

            <div *ngIf="pay_method === 3" class="px-3 mt-2">
                <div class="rounded-md bg-red-50 p-4" *ngIf="payment_status === 'DECLINED'">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <!-- Heroicon name: mini/x-circle -->
                            <svg
                                class="h-5 w-5 text-red-400"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                                aria-hidden="true"
                            >
                                <path
                                    fill-rule="evenodd"
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z"
                                    clip-rule="evenodd"
                                />
                            </svg>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-sm font-medium text-red-800">Tu tarjeta fue rechazada</h3>
                            <div class="mt-2 text-sm text-red-700">
                                <ul role="list" class="list-disc space-y-1 pl-5">
                                    <li>Vuelve a intentarlo y comprueba nuevamente los datos enviados</li>
                                    <li>Revisa tus fondos</li>
                                </ul>
                            </div>
                            <div class="mt-4">
                                <div class="-mx-2 -my-1.5 flex">
                                    <button
                                        type="button"
                                        [routerLink]="['/SelectPlan']"
                                        class="rounded-md bg-red-50 px-2 py-1.5 text-sm font-medium text-red-800 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-red-50"
                                    >
                                        Salir
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="rounded-md bg-red-50 p-4" *ngIf="payment_status === 'ERROR'">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <!-- Heroicon name: mini/x-circle -->
                            <svg
                                class="h-5 w-5 text-red-400"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                                aria-hidden="true"
                            >
                                <path
                                    fill-rule="evenodd"
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z"
                                    clip-rule="evenodd"
                                />
                            </svg>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-sm font-medium text-red-800">Tu tarjeta al procesarla generó un error</h3>
                            <div class="mt-2 text-sm text-red-700">
                                <ul role="list" class="list-disc space-y-1 pl-5">
                                    <li>Vuelve a intentarlo luego</li>
                                    <li>Revisa tus fondos</li>
                                    <li>Comprueba nuevamente los datos enviados</li>
                                </ul>
                            </div>
                            <div class="mt-4">
                                <div class="-mx-2 -my-1.5 flex">
                                    <button
                                        type="button"
                                        [routerLink]="['/SelectPlan']"
                                        class="rounded-md bg-red-50 px-2 py-1.5 text-sm font-medium text-red-800 hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-red-50"
                                    >
                                        Salir
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="rounded-md bg-yellow-50 p-4" *ngIf="payment_status === 'PENDING'">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <!-- Heroicon name: mini/exclamation-triangle -->
                            <svg
                                class="h-5 w-5 text-yellow-400"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                                aria-hidden="true"
                            >
                                <path
                                    fill-rule="evenodd"
                                    d="M8.485 3.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 3.495zM10 6a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 6zm0 9a1 1 0 100-2 1 1 0 000 2z"
                                    clip-rule="evenodd"
                                />
                            </svg>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-sm font-medium text-yellow-800">Tu pago se encuentra pendiente por aprobar</h3>
                            <div class="mt-2 text-sm text-yellow-700">
                                <p>
                                    Actualiza el estado <a (click)="GetPaymentStatus(payment_id)" class="fw-bold underline cursor-pointer">aqui</a>.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="rounded-md bg-green-50 p-4" *ngIf="payment_status === 'APPROVED'">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <!-- Heroicon name: mini/check-circle -->
                            <svg
                                class="h-5 w-5 text-green-400"
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                                aria-hidden="true"
                            >
                                <path
                                    fill-rule="evenodd"
                                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
                                    clip-rule="evenodd"
                                />
                            </svg>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-sm font-medium text-green-800">Afiliación completada</h3>
                            <div class="mt-2 text-sm text-green-700">
                                <p>A tu correo llegarán las credenciales para que puedas disfrutar de los servicios de netcare</p>
                            </div>
                            <div class="mt-4">
                                <div class="-mx-2 -my-1.5 flex">
                                    <a
                                        href="https://affiliates.netcare.life/auth/login"
                                        class="rounded-md bg-green-50 px-2 py-1.5 text-sm font-medium text-green-800 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-green-50 underline"
                                        >Agenda tu primera cita !YA!</a
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<!-- LOADING SCREEN -->

<div
    *ngIf="pay_completed"
    wire:loading
    class="fixed top-0 left-0 right-0 bottom-0 w-full h-screen z-50 overflow-hidden bg-gray-700 opacity-75 flex flex-col items-center justify-center"
>
    <div class="loader ease-linear rounded-full border-4 border-t-4 border-purple-200 h-12 w-12 mb-4"></div>
    <h2 class="text-center text-white text-xl font-semibold">Estamos procesando y validando tu pago...</h2>
    <p class="w-1/3 text-center text-white">Esto puede tomar varios segundos, porfavor no cierre ni refresque esta pantalla.</p>
</div>
